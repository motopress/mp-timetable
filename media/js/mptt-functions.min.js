window.Registry=function(){"use strict";function t(t){var e=!1;return"function"==typeof t.getInstance&&(e=!0),e}function e(e,n){if(!t(n))throw new Error('Invalide module "'+e+'". The function "getInstance" is not defined.');r[e]=n}function n(e){for(var n in e)if(e.hasOwnProperty(n)){if(!t(e[n]))throw new Error('Invalide module "'+n+'" inside the collection. The function "getInstance" is not defined.');r[n]=e[n]}}function i(t){delete r[t]}function o(t){var e=r[t];if(!e)throw new Error('The module "'+t+'" has not been registered or it was unregistered.');if("function"!=typeof e.getInstance)throw new Error('The module "'+t+'" can not be instantiated. The function "getInstance" is not defined.');return r[t].getInstance()}var r={};return{register:e,unregister:i,_get:o,registryMap:n}}(),Registry.register("adminFunctions",function(t){"use strict";function e(){return{wpAjax:function(t,e,n){t.mptt_action=t.action,delete t.action,wp.ajax.send("route_url",{success:function(t){!_.isUndefined(n)&&_.isFunction(n)&&e(t)},error:function(t){!_.isUndefined(n)&&_.isFunction(n)?n(t):console.log(t)},data:t})},initJBox:function(t,e,r){i=t,o=e,n.buttonEvents(r)},buttonEvents:function(e){o.find("#insert-into").off("click").on("click",function(){e(t(this).parents("form").serializeArray())})},callModal:function(e,n,i){var o=t(window).outerHeight()-60,r=t(window).outerWidth()-60,s=(wp.html.string({tag:"span",attrs:{"class":"spinner is-active"},content:""}),{content:e,closeOnEsc:!0,animation:{open:"zoomIn",close:"zoomOut"},width:r,height:o,closeButton:"title",title:"Shortcode Settings",onOpen:function(){var e=t("#"+this.id);n.call(this,e)},onClose:function(){t("#"+this.id).remove()}});_.isUndefined(i)||t.extend(s,i);var a=new jBox("Modal",s);a.open()},parseRequest:function(e){var n,i=location.search,o={};return _.isEmpty(i)||"?"===i?o:(i=i.replace("?",""),n=i.split("&"),t.each(n,function(){var t=this;t=t.split("="),o[t[0]]=t[1]}),_.isUndefined(e)?o:o[e])},generateHTML:function(e){var i,o="";if(_.isObject(e)){var r=document.createElement(e.tag);_.isUndefined(e.attrs)||t.each(e.attrs,function(t,e){_.isUndefined(e)||""===e||r.setAttribute(t,e)}),_.isArray(e.content)?(t.each(e.content,function(t,e){o+=n.generateHTML(e)}),t(r).html(o)):_.isObject(e.content)?(o=n.generateHTML(e.content),t(r).html(o)):_.isUndefined(e.content)?t(r).html(""):t(r).html(e.content),i=t(r).get(0).outerHTML}else i=_.isString(e)?e:!1;return i},getHtml:function(e,i){if(_.isUndefined(e))return!1;var o=!1;if(_.isUndefined(i)&&(_.isArray(e)?(o="",t.each(e,function(t,e){o+=n.generateHTML(e)})):o=n.generateHTML(e)),_.isObject(i)){var r=_.template(o);o=r(i)}return o}}}var n,i,o;return{getInstance:function(){return n||(n=e()),n}}}(jQuery)),function(t){"use strict";t(document).ready(function(){var e=t(".mptt-shortcode-wrapper"),n=t("body");if(n.hasClass("mptt_no_js")&&n.removeClass("mptt_no_js"),"undefined"!=typeof typenow&&pagenow===typenow)switch(typenow){case"mp-event":Registry._get("Event").init();break;case"mp-column":Registry._get("Event").initDatePicker(),Registry._get("Event").columnRadioBox()}e.length&&(Registry._get("Event").initTableData(),Registry._get("Event").filterShortcodeEvents(),Registry._get("Event").getFilterByHash(),e.show()),(t(".upcoming-events-widget").length||e.length)&&Registry._get("Event").setColorSettings()})}(jQuery);
